<div
  class="container"
  style="
    margin-top: 50px;
    background-color: white;
    border-radius: 13px;
    height: 650px;
  "
>
  <div class="row">
    <div class="col-xs-4" style="margin-top: 20px; margin-bottom: 20px">
      <div class="col">
        <div class="row-xs-2">
          <h2>Chats</h2>
          <form
            #messageForm="ngForm"
            (ngSubmit)="searchContacts()"
            autocomplete="off"
          >
            <div style="font-size: 8px !important">
              <mat-form-field appearance="outline" style="width: 90%">
                    <mat-label>Your name</mat-label>
                <input
                  type="text"
                  matInput
                  name="messageContent"
                  appearance="outline"
                  [(ngModel)]="searchContact"
                />
                <button color="primary" matSuffix mat-icon-button type="submit">
                  <mat-icon fontSet="fa" fontIcon="fa-search"></mat-icon>
                </button>
              </mat-form-field>
            </div>
          </form>
        </div>
        <div class="row-xs-10">
          <div
            *ngFor="let chat of chats"
            class="chatrow"
            [ngClass]="{
              activeChat: chat.contactUsername === openchatusername
            }"
          >
            <div
              class="row"
              style="margin-bottom: 10px"
              (click)="openChat(chat.contactUsername)"
            >
              <div class="col-xs-2">
                <img
                  class="chat-avatar"
                  src="{{ chat.contactPhotoUrl || './assets/user.png' }}"
                  alt="{{ chat.contactUsername }}"
                />
              </div>
              <div class="col-xs-10">
                <div class="col">
                  <div class="row-xs-6">
                    <div class="row">
                      <div
                        class="col-xs-8"
                        style="font-size: 1.1rem; font-weight: 500"
                      >
                        {{ chat.contactUsername | titlecase | slice : 0 : 10 }}
                      </div>
                      <div class="col-xs-4" style="color: gray">
                        {{ chat.messageSent | timeago | slice : 0 : 6 }}
                      </div>
                    </div>
                  </div>
                  <div class="row-xs-6" style="color: gray">
                    {{ chat.content | slice : 0 : 49 }}
                    <i
                      *ngIf="chat.dateRead"
                      style="color: gray"
                      class="bi bi-check"
                    ></i>
                    <i
                      *ngIf="!chat.dateRead"
                      style="color: blue"
                      class="bi bi-check-all"
                    ></i>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-xs-8">
      <app-member-messages [username]="openchatusername"></app-member-messages>
    </div>
  </div>
</div>
